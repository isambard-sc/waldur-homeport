// Vitest Snapshot v1, https://vitest.dev/guide/snapshot.html

exports[`Rancher application provision utils > groupQuestions > groups questions 1`] = `
[
  "Container Images",
  "Cluster Agent",
  "Agent Configuration",
  "Datadog Tagging",
  "Daemonset Configuration",
  "Proxy Configuration",
  "Optional Collection Agents",
  "Kube-State-Metrics",
]
`;

exports[`Rancher application provision utils > subquestions > parses subquestion types 1`] = `
[
  {
    "default": "true",
    "description": "Use default Docker image",
    "group": "Container Images",
    "label": "Use Default Image",
    "showIf": undefined,
    "showSubquestionIf": false,
    "subquestions": [
      {
        "default": "alpine:3.10",
        "description": "Init image name",
        "group": "Container Images",
        "label": "Init image name",
        "showIf": undefined,
        "type": "string",
        "variable": "initContainerImage",
      },
      {
        "default": "docker.bintray.io/jfrog/artifactory-pro",
        "description": "Artifactory image name",
        "group": "Container Images",
        "label": "Artifactory Image Name",
        "showIf": undefined,
        "type": "string",
        "variable": "artifactory.image.repository",
      },
      {
        "default": "6.13.1",
        "description": "Artifactory image tag",
        "group": "Container Images",
        "label": "Artifactory Image Tag",
        "showIf": undefined,
        "type": "string",
        "variable": "artifactory.image.version",
      },
      {
        "default": "docker.bintray.io/jfrog/nginx-artifactory-pro",
        "description": "Nginx image name",
        "group": "Container Images",
        "label": "Nginx Image Name",
        "showIf": undefined,
        "type": "string",
        "variable": "nginx.image.repository",
      },
      {
        "default": "6.13.1",
        "description": "Nginx image tag",
        "group": "Container Images",
        "label": "Nginx Image Tag",
        "showIf": undefined,
        "type": "string",
        "variable": "nginx.image.version",
      },
      {
        "description": "Image Pull Secret",
        "group": "Container Images",
        "label": "Image Pull Secret",
        "showIf": undefined,
        "type": "string",
        "variable": "imagePullSecrets",
      },
    ],
    "type": "boolean",
    "variable": "defaultImage",
  },
  {
    "default": "true",
    "description": "Expose app using Layer 7 Load Balancer - ingress",
    "group": "Services and Load Balancing",
    "label": "Expose app using Layer 7 Load Balancer",
    "required": true,
    "showIf": undefined,
    "showSubquestionIf": true,
    "subquestions": [
      {
        "default": "xip.io",
        "description": "Hostname to your artifactory installation",
        "group": "Services and Load Balancing",
        "label": "Hostname",
        "required": true,
        "showIf": undefined,
        "type": "hostname",
        "variable": "ingress.hosts[0]",
      },
    ],
    "type": "boolean",
    "variable": "ingress.enabled",
  },
  {
    "default": "false",
    "description": "Enable nginx server",
    "group": "Services and Load Balancing",
    "label": "Enable Nginx Server",
    "required": true,
    "showIf": {
      "ingress.enabled": false,
    },
    "showSubquestionIf": undefined,
    "subquestions": undefined,
    "type": "boolean",
    "variable": "nginx.enabled",
  },
  {
    "default": "LoadBalancer",
    "description": "Nginx service type",
    "group": "Services and Load Balancing",
    "label": "Nginx Service Type",
    "options": [
      "ClusterIP",
      "NodePort",
      "LoadBalancer",
    ],
    "required": true,
    "showIf": {
      "ingress.enabled": false,
      "nginx.enabled": true,
    },
    "showSubquestionIf": undefined,
    "subquestions": undefined,
    "type": "enum",
    "variable": "nginx.service.type",
  },
  {
    "description": "Provide Static IP to configure with Nginx",
    "group": "Services and Load Balancing",
    "label": "Config Nginx LoadBalancer IP",
    "showIf": {
      "ingress.enabled": false,
      "nginx.enabled": true,
      "nginx.service.type": "LoadBalancer",
    },
    "showSubquestionIf": undefined,
    "subquestions": undefined,
    "type": "string",
    "variable": "nginx.service.loadBalancerIP",
  },
  {
    "description": "Provide SSL Secret name to configure with Nginx",
    "group": "Services and Load Balancing",
    "label": "Config Nginx SSL Secret",
    "showIf": {
      "ingress.enabled": false,
      "nginx.enabled": true,
    },
    "showSubquestionIf": undefined,
    "subquestions": undefined,
    "type": "string",
    "variable": "nginx.tlsSecretName",
  },
  {
    "description": "Provide configMap name to configure Nginx with custom \`artifactory.conf\`",
    "group": "Services and Load Balancing",
    "label": "ConfigMap for Nginx Artifactory Config",
    "showIf": {
      "ingress.enabled": false,
      "nginx.enabled": true,
    },
    "showSubquestionIf": undefined,
    "subquestions": undefined,
    "type": "string",
    "variable": "nginx.customArtifactoryConfigMap",
  },
  {
    "default": "false",
    "description": "Skip Nginx Auto Configuration Update",
    "group": "Services and Load Balancing",
    "label": "Skip Nginx Auto Configuration Update",
    "showIf": {
      "ingress.enabled": false,
      "nginx.enabled": true,
    },
    "showSubquestionIf": undefined,
    "subquestions": undefined,
    "type": "string",
    "variable": "nginx.env.skipAutoConfigUpdate",
  },
  {
    "default": "false",
    "description": "enable persistence storage for nginx server",
    "group": "Services and Load Balancing",
    "label": "Enable Persistent Storage for Nginx Service",
    "showIf": {
      "ingress.enabled": false,
      "nginx.enabled": true,
    },
    "showSubquestionIf": undefined,
    "subquestions": undefined,
    "type": "boolean",
    "variable": "nginx.persistence.enabled",
  },
  {
    "default": "5Gi",
    "description": "Nginx persistent volume size",
    "group": "Services and Load Balancing",
    "label": "Nginx Persistent Volume Size",
    "showIf": {
      "ingress.enabled": false,
      "nginx.enabled": true,
      "nginx.persistence.enabled": true,
    },
    "showSubquestionIf": undefined,
    "subquestions": undefined,
    "type": "string",
    "variable": "nginx.persistence.size",
  },
  {
    "description": "If undefined or null, uses the default StorageClass. Default to null",
    "group": "Services and Load Balancing",
    "label": "Default StorageClass for Nginx",
    "showIf": {
      "ingress.enabled": false,
      "nginx.enabled": true,
      "nginx.persistence.enabled": true,
    },
    "showSubquestionIf": undefined,
    "subquestions": undefined,
    "type": "storageclass",
    "variable": "nginx.persistence.storageClass",
  },
  {
    "default": "200m",
    "description": "Nginx initial cpu request",
    "group": "Services and Load Balancing",
    "label": "Nginx Initial CPU Request",
    "showIf": {
      "ingress.enabled": false,
      "nginx.enabled": true,
    },
    "showSubquestionIf": undefined,
    "subquestions": undefined,
    "type": "string",
    "variable": "nginx.resources.requests.cpu",
  },
  {
    "default": "500Mi",
    "description": "Nginx initial memory request",
    "group": "Services and Load Balancing",
    "label": "Nginx Initial Memory Request",
    "showIf": {
      "ingress.enabled": false,
      "nginx.enabled": true,
    },
    "showSubquestionIf": undefined,
    "subquestions": undefined,
    "type": "string",
    "variable": "nginx.resources.requests.memory",
  },
  {
    "default": "1",
    "description": "Nginx cpu limit",
    "group": "Services and Load Balancing",
    "label": "Nginx CPU Limit",
    "showIf": {
      "ingress.enabled": false,
      "nginx.enabled": true,
    },
    "showSubquestionIf": undefined,
    "subquestions": undefined,
    "type": "string",
    "variable": "nginx.resources.limits.cpu",
  },
  {
    "default": "1Gi",
    "description": "Nginx memory limit",
    "group": "Services and Load Balancing",
    "label": "Nginx Memory Limit",
    "showIf": {
      "ingress.enabled": false,
      "nginx.enabled": true,
    },
    "showSubquestionIf": undefined,
    "subquestions": undefined,
    "type": "string",
    "variable": "nginx.resources.limits.memory",
  },
  {
    "default": "true",
    "description": "enable persistence storage for Artifactory",
    "group": "Artifactory Storage",
    "label": "Enable Persistent Storage for Artifactory",
    "required": true,
    "showIf": undefined,
    "showSubquestionIf": true,
    "subquestions": [
      {
        "default": "50Gi",
        "description": "Artifactory persistent volume size",
        "group": "Artifactory Storage",
        "label": "Artifactory Persistent Volume Size",
        "required": true,
        "showIf": undefined,
        "type": "string",
        "variable": "artifactory.persistence.size",
      },
      {
        "default": "file-system",
        "description": "Artifactory persistent volume size",
        "group": "Artifactory Storage",
        "label": "Artifactory Persistent Storage Type",
        "options": [
          "file-system",
          "nfs",
          "google-storage",
          "aws-s3",
        ],
        "required": true,
        "showIf": undefined,
        "type": "enum",
        "variable": "artifactory.persistence.type",
      },
    ],
    "type": "boolean",
    "variable": "artifactory.persistence.enabled",
  },
  {
    "description": "NFS server IP",
    "group": "Artifactory Storage",
    "label": "NFS Server IP",
    "showIf": {
      "artifactory.persistence.enabled": true,
      "artifactory.persistence.type": "nfs",
    },
    "showSubquestionIf": undefined,
    "subquestions": undefined,
    "type": "string",
    "variable": "artifactory.persistence.nfs.ip",
  },
  {
    "default": "/data",
    "description": "NFS data directory",
    "group": "Artifactory Storage",
    "label": "NFS Data Directory",
    "showIf": {
      "artifactory.persistence.enabled": true,
      "artifactory.persistence.type": "nfs",
    },
    "showSubquestionIf": undefined,
    "subquestions": undefined,
    "type": "string",
    "variable": "artifactory.persistence.nfs.haDataMount",
  },
  {
    "default": "/backup",
    "description": "NFS backup directory",
    "group": "Artifactory Storage",
    "label": "NFS Backup Directory",
    "showIf": {
      "artifactory.persistence.enabled": true,
      "artifactory.persistence.type": "nfs",
    },
    "showSubquestionIf": undefined,
    "subquestions": undefined,
    "type": "string",
    "variable": "artifactory.persistence.nfs.haBackupMount",
  },
  {
    "default": "/var/opt/jfrog/artifactory-ha",
    "description": "HA data directory",
    "group": "Artifactory Storage",
    "label": "HA Data Directory",
    "showIf": {
      "artifactory.persistence.enabled": true,
      "artifactory.persistence.type": "nfs",
    },
    "showSubquestionIf": undefined,
    "subquestions": undefined,
    "type": "string",
    "variable": "artifactory.persistence.nfs.dataDir",
  },
  {
    "default": "/var/opt/jfrog/artifactory-backup",
    "description": "HA backup directory	",
    "group": "Artifactory Storage",
    "label": "HA Backup Directory",
    "showIf": {
      "artifactory.persistence.enabled": true,
      "artifactory.persistence.type": "nfs",
    },
    "showSubquestionIf": undefined,
    "subquestions": undefined,
    "type": "string",
    "variable": "artifactory.persistence.nfs.backupDir",
  },
  {
    "default": "200Gi",
    "description": "NFS PVC size	",
    "group": "Artifactory Storage",
    "label": "NFS PVC Size",
    "showIf": {
      "artifactory.persistence.enabled": true,
      "artifactory.persistence.type": "nfs",
    },
    "showSubquestionIf": undefined,
    "subquestions": undefined,
    "type": "string",
    "variable": "artifactory.persistence.nfs.capacity",
  },
  {
    "default": "artifactory-ha-gcp",
    "description": "Google storage bucket name",
    "group": "Artifactory Storage",
    "label": "Google Storage Bucket Name",
    "showIf": {
      "artifactory.persistence.enabled": true,
      "artifactory.persistence.type": "google-storage",
    },
    "showSubquestionIf": undefined,
    "subquestions": undefined,
    "type": "string",
    "variable": "artifactory.persistence.googleStorage.bucketName",
  },
  {
    "description": "Google Storage service account id",
    "group": "Artifactory Storage",
    "label": "Google Storage Service Account ID",
    "showIf": {
      "artifactory.persistence.enabled": true,
      "artifactory.persistence.type": "google-storage",
    },
    "showSubquestionIf": undefined,
    "subquestions": undefined,
    "type": "string",
    "variable": "artifactory.persistence.googleStorage.identity",
  },
  {
    "description": "Google Storage service account key",
    "group": "Artifactory Storage",
    "label": "Google Storage Service Account Key",
    "showIf": {
      "artifactory.persistence.enabled": true,
      "artifactory.persistence.type": "google-storage",
    },
    "showSubquestionIf": undefined,
    "subquestions": undefined,
    "type": "string",
    "variable": "artifactory.persistence.googleStorage.credential",
  },
  {
    "default": "artifactory-ha/filestore",
    "description": "Google Storage path in bucket",
    "group": "Artifactory Storage",
    "label": "Google Storage Path In Bucket",
    "showIf": {
      "artifactory.persistence.enabled": true,
      "artifactory.persistence.type": "google-storage",
    },
    "showSubquestionIf": undefined,
    "subquestions": undefined,
    "type": "string",
    "variable": "artifactory.persistence.googleStorage.path",
  },
  {
    "default": "artifactory-ha-aws",
    "description": "AWS S3 bucket name",
    "group": "Artifactory Storage",
    "label": "AWS S3 Bucket Name",
    "showIf": {
      "artifactory.persistence.enabled": true,
      "artifactory.persistence.type": "aws-s3",
    },
    "showSubquestionIf": undefined,
    "subquestions": undefined,
    "type": "string",
    "variable": "artifactory.persistence.awsS3.bucketName",
  },
  {
    "description": "AWS S3 bucket region",
    "group": "Artifactory Storage",
    "label": "AWS S3 Bucket Region",
    "showIf": {
      "artifactory.persistence.enabled": true,
      "artifactory.persistence.type": "aws-s3",
    },
    "showSubquestionIf": undefined,
    "subquestions": undefined,
    "type": "string",
    "variable": "artifactory.persistence.awsS3.region",
  },
  {
    "description": "AWS S3 AWS_ACCESS_KEY_ID",
    "group": "Artifactory Storage",
    "label": "AWS S3 AWS_ACCESS_KEY_ID",
    "showIf": {
      "artifactory.persistence.enabled": true,
      "artifactory.persistence.type": "aws-s3",
    },
    "showSubquestionIf": undefined,
    "subquestions": undefined,
    "type": "string",
    "variable": "artifactory.persistence.awsS3.identity",
  },
  {
    "description": "AWS S3 AWS_SECRET_ACCESS_KEY",
    "group": "Artifactory Storage",
    "label": "AWS S3 AWS_SECRET_ACCESS_KEY",
    "showIf": {
      "artifactory.persistence.enabled": true,
      "artifactory.persistence.type": "aws-s3",
    },
    "showSubquestionIf": undefined,
    "subquestions": undefined,
    "type": "string",
    "variable": "artifactory.persistence.awsS3.credential",
  },
  {
    "default": "artifactory-ha/filestore",
    "description": "AWS S3 path in bucket",
    "group": "Artifactory Storage",
    "label": "AWS S3 Path In Bucket",
    "showIf": {
      "artifactory.persistence.enabled": true,
      "artifactory.persistence.type": "aws-s3",
    },
    "showSubquestionIf": undefined,
    "subquestions": undefined,
    "type": "string",
    "variable": "artifactory.persistence.awsS3.path",
  },
  {
    "default": "true",
    "description": "Enable PostgreSQL",
    "group": "Database Settings",
    "label": "Enable PostgreSQL",
    "required": true,
    "showIf": undefined,
    "showSubquestionIf": true,
    "subquestions": [
      {
        "default": "false",
        "description": "enable persistence storage for PostgreSQL",
        "group": "Database Settings",
        "label": "Enable Persistent Storage for PostgreSQL",
        "showIf": undefined,
        "type": "boolean",
        "variable": "postgresql.persistence.enabled",
      },
      {
        "default": "20Gi",
        "description": "PostgreSQL persistent volume size",
        "group": "Database Settings",
        "label": "PostgreSQL Persistent Volume Size",
        "showIf": {
          "postgresql.enabled": true,
          "postgresql.persistence.enabled": true,
        },
        "type": "string",
        "variable": "postgresql.persistence.size",
      },
      {
        "description": "If undefined or null, uses the default StorageClass. Default to null",
        "group": "Database Settings",
        "label": "Default StorageClass for PostgreSQL",
        "showIf": {
          "postgresql.enabled": true,
          "postgresql.persistence.enabled": true,
        },
        "type": "storageclass",
        "variable": "postgresql.persistence.storageClass",
      },
      {
        "default": "200m",
        "description": "PostgreSQL initial cpu request",
        "group": "Database Settings",
        "label": "PostgreSQL Initial CPU Request",
        "showIf": {
          "postgresql.enabled": true,
        },
        "type": "string",
        "variable": "postgresql.resources.requests.cpu",
      },
      {
        "default": "500Mi",
        "description": "PostgreSQL initial memory request",
        "group": "Database Settings",
        "label": "PostgreSQL Initial Memory Request",
        "showIf": {
          "postgresql.enabled": true,
        },
        "type": "string",
        "variable": "postgresql.resources.requests.memory",
      },
      {
        "default": "1",
        "description": "PostgreSQL cpu limit",
        "group": "Database Settings",
        "label": "PostgreSQL CPU Limit",
        "showIf": {
          "postgresql.enabled": true,
        },
        "type": "string",
        "variable": "postgresql.resources.limits.cpu",
      },
      {
        "default": "1Gi",
        "description": "PostgreSQL memory limit",
        "group": "Database Settings",
        "label": "PostgreSQL Memory Limit",
        "showIf": {
          "postgresql.enabled": true,
        },
        "type": "string",
        "variable": "postgresql.resources.limits.memory",
      },
    ],
    "type": "boolean",
    "variable": "postgresql.enabled",
  },
  {
    "default": "postgresql",
    "description": "xternal database type (postgresql, mysql, oracle or mssql)",
    "group": "Database Settings",
    "label": "External Database Type",
    "options": [
      "postgresql",
      "mysql",
      "oracle",
      "mssql",
    ],
    "required": true,
    "showIf": {
      "postgresql.enabled": false,
    },
    "showSubquestionIf": undefined,
    "subquestions": undefined,
    "type": "enum",
    "variable": "database.type",
  },
  {
    "description": "External database URL. If you set the url, leave host and port empty",
    "group": "Database Settings",
    "label": "External Database URL",
    "showIf": {
      "postgresql.enabled": false,
    },
    "showSubquestionIf": undefined,
    "subquestions": undefined,
    "type": "string",
    "variable": "database.url",
  },
  {
    "description": "External database hostname",
    "group": "Database Settings",
    "label": "External Database Hostname",
    "showIf": {
      "postgresql.enabled": false,
    },
    "showSubquestionIf": undefined,
    "subquestions": undefined,
    "type": "string",
    "variable": "database.host",
  },
  {
    "description": "External database port",
    "group": "Database Settings",
    "label": "External Database Port",
    "showIf": {
      "postgresql.enabled": false,
    },
    "showSubquestionIf": undefined,
    "subquestions": undefined,
    "type": "string",
    "variable": "database.port",
  },
  {
    "description": "External database username",
    "group": "Database Settings",
    "label": "External Database Username",
    "showIf": {
      "postgresql.enabled": false,
    },
    "showSubquestionIf": undefined,
    "subquestions": undefined,
    "type": "string",
    "variable": "database.user",
  },
  {
    "description": "External database password",
    "group": "Database Settings",
    "label": "External Database Password",
    "showIf": {
      "postgresql.enabled": false,
    },
    "showSubquestionIf": undefined,
    "subquestions": undefined,
    "type": "string",
    "variable": "database.password",
  },
  {
    "default": "false",
    "description": "Show advanced configurations",
    "group": "Advanced Options",
    "label": "Show Advanced Configurations",
    "showIf": undefined,
    "showSubquestionIf": true,
    "subquestions": [
      {
        "default": "FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF",
        "description": "Artifactory master key",
        "group": "Advanced Options",
        "label": "Artifactory master key",
        "showIf": undefined,
        "type": "string",
        "variable": "artifactory.masterKey",
      },
      {
        "default": "500m",
        "description": "Artifactory primary node initial cpu request",
        "group": "Advanced Options",
        "label": "Artifactory Primary Node Initial CPU Request",
        "showIf": undefined,
        "type": "string",
        "variable": "artifactory.primary.resources.requests.cpu",
      },
      {
        "default": "1Gi",
        "description": "Artifactory primary node initial memory request",
        "group": "Advanced Options",
        "label": "Artifactory Primary Node Initial Memory Request",
        "showIf": undefined,
        "type": "string",
        "variable": "artifactory.primary.resources.requests.memory",
      },
      {
        "default": "1g",
        "description": "Artifactory primary node java Xms size",
        "group": "Advanced Options",
        "label": "Artifactory Primary Node Java Xms Size",
        "showIf": undefined,
        "type": "string",
        "variable": "artifactory.primary.javaOpts.xms",
      },
      {
        "default": "2",
        "description": "Artifactory primary node cpu limit",
        "group": "Advanced Options",
        "label": "Artifactory Primary Node CPU Limit",
        "showIf": undefined,
        "type": "string",
        "variable": "artifactory.primary.resources.limits.cpu",
      },
      {
        "default": "4Gi",
        "description": "Artifactory primary node memory limit",
        "group": "Advanced Options",
        "label": "Artifactory Primary Node Memory Limit",
        "showIf": undefined,
        "type": "string",
        "variable": "artifactory.primary.resources.limits.memory",
      },
      {
        "default": "4g",
        "description": "Artifactory primary node java Xmx size",
        "group": "Advanced Options",
        "label": "Artifactory Primary Node Java Xmx Size",
        "showIf": undefined,
        "type": "string",
        "variable": "artifactory.primary.javaOpts.xmx",
      },
      {
        "default": "500m",
        "description": "Artifactory member node initial cpu request",
        "group": "Advanced Options",
        "label": "Artifactory Member Node Initial CPU Request",
        "showIf": undefined,
        "type": "string",
        "variable": "artifactory.node.resources.requests.cpu",
      },
      {
        "default": "2Gi",
        "description": "Artifactory member node initial memory request",
        "group": "Advanced Options",
        "label": "Artifactory Member Node Initial Memory Request",
        "showIf": undefined,
        "type": "string",
        "variable": "artifactory.node.resources.requests.memory",
      },
      {
        "default": "1g",
        "description": "Artifactory member node java Xms size",
        "group": "Advanced Options",
        "label": "Artifactory Member Node Java Xms Size",
        "showIf": undefined,
        "type": "string",
        "variable": "artifactory.node.javaOpts.xms",
      },
      {
        "default": "2",
        "description": "Artifactory member node cpu limit",
        "group": "Advanced Options",
        "label": "Artifactory Member Node CPU Limit",
        "showIf": undefined,
        "type": "string",
        "variable": "artifactory.node.resources.limits.cpu",
      },
      {
        "default": "4Gi",
        "description": "Artifactory member node memory limit",
        "group": "Advanced Options",
        "label": "Artifactory Member Node Memory Limit",
        "showIf": undefined,
        "type": "string",
        "variable": "artifactory.node.resources.limits.memory",
      },
      {
        "default": "4g",
        "description": "Artifactory member node java Xmx size",
        "group": "Advanced Options",
        "label": "Artifactory Member Node Java Xmx Size",
        "showIf": undefined,
        "type": "string",
        "variable": "artifactory.node.javaOpts.xmx",
      },
    ],
    "type": "boolean",
    "variable": "advancedOptions",
  },
]
`;
